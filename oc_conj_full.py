#!/usr/bin/env python
# coding=utf-8

# from gtts import gTTS, gTTSError
import random
from playsound import playsound, PlaysoundException # requires GStreamer
import time

# French numbers oral comprehension
# Author: mr.abhisek.de@gmail.com
# Uses Google Text-to-Speech (gTTS) API

# def audio(text, file_name):
#     audio_file  = "./conjugation/{}.mp3".format(file_name)
#     tts = gTTS(text=text, lang='fr')
#     tts.save(audio_file)
#     return audio_file

def play(file_name):
    playsound("./conjugation/{}.mp3".format(file_name))

# __main__ 
en_fr = {"I have": "J'ai", "One have": "On a", "He have": "Il a", "You have": "Vous avez", "We have": "Nous avon", "They have": "Ils ont", "I am": "Je suis", "You have": "Tu as", "You are": "Vous êtes", "She is": "Elle est", "You are": "Tu es", "We are": "Nous sommes", "They are": "ils sont", "I do": "Je fais", "You do": "Tu fais", "He does": "Il fait", "She does": "Elle fait", "One does": "On fait", "We do": "Nous faisons", "You do": "Vous faites", "They do": "Ils font", "I play": "Je joue", "You play": "Tu joues", "He plays": "Il joue", "She plays": "Elle joue", "You play": "Vous jouez", "We play": "Nous jouons", "They play": "Ils jouent", "I go": "Je vais", "You go": "Tu vas", "He goes": "Il va", "She goes": "Elle va", "One goes": "On va", "We go": "Nous allons", "You go": "Vous allez", "They go": "Ils vont", "I walk": "Je marche", "You": "Tu marches", "He walks": "Il marche", "We walk": "Nous marchons", "You walk": "Vous marchez", "They walk": "Ils marchent", "I speak": "Je parle", "You speak": "Vous parlez", "We speak": "Nous parlons", "They speak": "Ils parlent", "One speaks": "On parle", "I watch": "Je regarde", "You watch": "Tu regardes", "He watch": "Il regarde", "You watch": "Vous regardez", "We watch": "Nous regardons", "They watch": "Ils regardent", "I give": "Je donne", "You give": "Tu donnes", "She give": "Elle donne", "We give": "Nous donnons", "You give": "Vous donnez", "They give": "Ils donnent", "I finish": "Je finis", "You finish": "Tu finis", "One finish": "On finit", "We finish": "Nous finissons", "You finish": "Vous finissez", "They finish": "Ils finissent", "I fill": "Je remplis", "You fill": "Tu remplis", "He fills": "Tu remplit", "We fill": "Nous remplissons", "You fill": "Vous remplissez", "They fill": "Ils remplissent", "I lose weight": "Je maigris", "You lose weight": "Tu maigris", "She lose weight": "Elle maigrit", "You lose weight": "Vous maigrissez", "We lose weight": "Nous maigrissons", "They lose weight": "Ils maigrissent", "I choose": "Je choisis", "You choose": "Tu choisis", "She choose": "Elle choisit", "We choose": "Nous choisissons", "You choose": "Vous choisissez", "They choose": "Ils choisissent","I accept": "J'accepte", "You accept": "Tu acceptes", "She accept": "Ell'accepte", "We accept": "Nous acceptons", "You accpet": "Vous acceptez", "They accpet": "Ils acceptent", "I buy": "J'accète", "You buy": "Tu achètes", "He buys": "Il achète", "We buy": "Nous achètons", "You buy": "Vous achètez", "They buy": "Ils achètent", "I help": "J'aide", "You help": "Tu aides", "One help": "On aide", "We help": "Nous aidons", "You help": "Vous aidez", "They help": "Ils aidons", "I like": "J'aime", "You like": "Tu aimes", "He likes": "Il aime", "We like": "Nous aimons", "You like": "Vous aimez", "They like": "Ils aiment", "I add": "J'ajoute", "You add": "Tu ajoutes", "She add": "Ell'ajoute", "We add": "Nous ajoutons", "You add": "Vous ajoutez", "They add": "Ils ajoutent", "I go": "Je vais", "You go": "Tu vas", "She goes": "Elle va", "We go": "Nous allons", "You go": "Vous allez", "They go": "Ils vont", "I belong": "J'appartens", "You belong": "Tu appartens", "She belongs": "Ell'appartent", "We belong": "Nous appartons", "You belong": "Vous appartez", "They belong": "Ils appartiennent", "I call": "J'appelle", "You call": "Tu apelles", "She calls": "Ell'apelle", "You call": "Vous apellez", "We call": "Nous appelons", "They call": "Ils appelent", "I bring": "J'apporte", "You bring": "Tu apportes", "One brings": "On apporte", "We bring": "Nous apportons", "You bring": "Vous apportez", "They bring": "Ils apportent", "I learn": "J'apprends", "You learn": "Tu apprands", "He leans": "il apprand", "We learn": "Nous apprenons", "You learn": "Vous apprerez", "They learn": "Ils apprennent", "I stop": "J'arrête", "You stop": "Tu arrêtes", "She stops": "Ell'arrête", "We stop": "Nous arrêtons", "You stop": "Vous arrêtez", "They stop": "Ils arrêtent", "I arrive": "J'arrive", "You arrive": "Tu arrives", "He arrive": "Il arrive", "We arrive": "Nous arrivons", "You arrive": "Vous arrivez", "They arrive": "Ils arrivent", "I take": "J'attends", "You take": "Tu attends", "She takes": "Elle attend", "We take": "Nous attendons", "You take": "Vous attendez", "They take": "Ils attendent", "I advance": "J'avance", "You advance": "Tu avances", "He advances": "Il avance", "We advance": "Nous avancons", "You advance": "Vous avancez", "They adance": "Ils avancent", "I have": "J'ai", "You have": "Tu as", "She have": "Ell'a", "He have": "Il a", "We have": "Nous avons", "You have": "Vous avez", "They have": "Ils ont", "I sing": "Je chante", "You sing": "Tu chantes", "He sings": "Il chante", "We sing": "Nous chantons", "You sing": "Vous chantez", "They sing": "Ils chantent","I change": "Je change", "You change": "Tu changes", "She changes": "Elle change", "We change": "Nous changons", "You change": "Vous changez", "They change": "Ils changent", "I search": "Je cherche", "You search": "Tu cherche", "He search": "Il cherche", "We search": "Nous cherchons", "You search": "Vous cherchez", "They search": "Ils cherchent", "I choose": "Je choisis", "You choose": "Tu choisis", "He choose": "Il choisit", "We choose": "Nous choisissons", "You choose": "Vous choisissez", "They choose": "Ils choisissent", "I start": "Je commence", "You start": "Tu commences", "He starts": "Il commence", "We start": "Nous commençon", "You start": "Vous commençez", "They start": "Ils commencent", "I understatnd": "Je comprends", "You understand": "Tu comprends", "He understand": "Il comprend", "We understand": "Nous comprenons", "You understand": "Vous comprenez", "They understand": "Ils comprennent", "I know": "Je connais", "You know": "Tu connais", "She knoes": "Elle connaÎt", "We know": "Nous connaissons", "You know": "Vous connaissez", "They know": "Ils connaissent", "I believe": "Je crois", "You believe": "tu crios", "He believes": "Il croit", "We believe": "Nous croyons", "You believe": "Vous croyez", "They believe": "Ils croient", "I demand": "Je demande", "You demand": "Tu demandes", "She demands": "Elle demande", "We demand": "Nous demandons", "You demand": "Vous demandez", "They demand": "Ils demandent", "I descend": "Je descende", "You descend": "Tu descendes", "He descend": "Il descend", "We descend": "Nous descendons", "You descend": "Vous descendez", "They descend": "Ils descendent", "I become": "Je deviens", "You become": "Tu deviens", "She become": "Elle devient", "We become": "Nous devenons", "You become": "Vous devenez", "They become": "Ils deviennent", "I must": "Je dois", "You must": "Tu dois", "He must": "Il doit", "We must": "Nous devons", "You must": "Vous devez", "They must": "Ils doivent", "I say": "Je dis", "You say": "Tu dis", "He says": "Il dit", "You say": "Vous dites", "We say": "Nous disons", "They say": "Ils disent", "I give": "Je donne", "You give": "Tu donnes", "She give": "Elle donne", "We give": "Nous donnons", "You give": "Vous donnez", "They give": "Ils donnent", "I sleep": "Je dors", "You sleep": "Tu dors", "He sleeps": "Il dort", "We sleep": "Nous dormons", "You sleep": "Vous dormez", "They sleep": "Ils dorment", "I listen": "J'écoute", "You listen": "Tu écoutes", "He listens": "Il écoute", "We listen": "Nous écoutons", "You listen": "Vous écoutez", "They listen": "Ils écoutent", "I write": "J'écrie", "You write": "Tu écries", "He write": "Il écrie", "We write": "Nous écrivons", "You write": "Vous écrivez", "They write": "Ils écrivent", "I prevent": "J'empêche", "You prevent": "Tu empêches", "She prevents": "Ell'empêche", "We prevent": "Nous empêchons", "You prevent": "Vous empêchez", "They prevent": "Ils empêchent","I hear": "J'étends", "You hear": "Tu étends", "He hears": "Ils étend", "We hear": "Nous étendons", "You hear": "Vous étendez", "They hear": "Ils étendent", "I enter": "J'entre", "You enter": "Tu entres", "He enters": "Il entre", "We enter": "Nous entrons", "You enter": "Vous entrez", "They enter": "Ils entrent", "I send": "J'envoye", "You send": "Tu envoyes", "He send": "Il envoye", "We send": "Nous envoyos", "You send": "Vous envoyez", "They send": "Ils envoyent", "I try": "J'essaye", "You try": "Tu essayes", "She tries": "Ell'essaye", "We try": "Nous essayons", "You try": "Vous essayez", "They try": "Ils essayent", "I am": "Je suis", "You are": "Tu es", "He is": "Il est", "She is": "Elle est", "We are": "Nous sommes", "You are": "Vous êtes", "They are": "Ils sont", "I avoid": "J'évite", "You avoid": "Tu évites", "He avoids": "Il évite", "We avoid": "Il évitons", "You avoid": "Vous évitez", "They avoid": "Ils évitent", "I exist": "J'existe", "You exist": "Tu existes", "She exist": "Ell'existes", "We exist": "Nous existons", "You exist": "Vous existez", "They exist": "Ils existent", "I explain": "J'explique", "You explain": "Tu expliques", "He explains": "Il explique", "We explain": "Nous expliquons", "You explain": "Vous expliquez", "They explain": "Ils expliquent", "I do": "Je fais", "You do": "Tu fais", "He do": "Il fait", "We do": "Nous faisons", "You do": "Vous faites", "They do": "Ils font", "I close": "Je ferme", "You close": "Tu fermes", "He closes": "Il ferme", "We close": "Nous fermons", "You close": "Vous fermez", "They close": "Ils ferment", "I finish": "Je finis", "You finish": "Tu finis", "She finishes": "Elle finit", "We finish": "Vous finissions", "You finish": "Vous finissez", "They finish": "Ils finissent", "I keep": "Je garde", "You keep": "Tu gardes", "He keeps": "Il garde", "We keep": "Nous gardons", "You keep": "Vous gardez", "They keep": "Ils gardent", "I live": "J'habite", "You live": "Tu habites", "She lives": "Ell'habite", "We live": "Nous habitons", "You live": "Vous habitez", "They live": "Ils habitent", "I spray": "Je jette", "You spary": "Tu jettes", "He spray": "Il jette", "We spray": "Nous jetons", "You spray": "Vous jetez", "They spray": "Ils jettent", "I play": "Je joue", "You play": "Tu joues", "He plays": "Il joue", "We play": "Nous jouons", "You play": "Vous jouez", "They play": "Ils jouent", "I let": "Je laisse", "You let": "Tu laisses", "She let": "Elle laisse", "We let": "Nous laissons", "You let": "Vous laissez", "They let": "Ils laissent", "I read": "Je lis", "You read": "Tu lis", "He reads": "Il lit", "We read": "Nous lisons", "You read": "Vous lisez", "They read": "Ils lisent", "I eat": "Je mange", "You read": "Tu manges", "He eats": "Il mange", "We eat": "Nous mangons", "You eat": "Vous mangez", "They eat": "Ils mangent", "I put": "Je mets", "You put": "Tu mets", "She puts": "Elle met", "We put": "Nous mettons", "You put": "Vous mettez", "They put": "Ils mettent", "I go up": "Je montre", "You go up": "Tu montres", "We go up": "Nous montrons", "You go up": "Vous montrez", "They go up": "Ils montrent", "I obtain": "J'obtiens", "You obtain": "Tu obtiens", "She obtains": "Ell'obtient", "We obtain": "Nous obtenons", "You obtain": "Vous obtenez", "They obtain": "Ils ontiennent", "I offer": "J'offre", "You offer": "Tu offres", "He offers": "Il offre", "We offer": "Nous offrons", "You offer": "Vous offrez", "They offer": "Ils offrent", "I forget": "J'oublie", "You forget": "Tu oublies", "She forgets": "Ell'oublie", "We forget": "Nous oublions", "You forget": "Vous oublliez", "They forget": "Ils oublient", "I open": "J'ouvre", "You open": "Tu ouvres", "He opens": "Il ouvre", "We open": "Nous ouvrons", "You open": "Vous ouvrez", "They oprn": "Ils ouvrent", "I speak": "Je parle", "You speak": "Tu parles", "She speaks": "Elle parle", "We speak": "Nous parlons", "You speak": "Vous parlez", "They speak": "Ils parlent", "I leave": "Je par", "You leave": "Tu pars", "She leaves": "Elle part", "We leave": "Nous partons", "You leave": "Vous partez", "They leave": "Ils partent", "I pass": "Je passe", "You pass": "Tu passes", "He passes": "Il passe", "We pass": "Nous passons", "You pass": "Vous passez", "They pass": "Ils passent", "I pay": "Je paye", "You pay": "Tu payes", "He pays": "Il paye", "You pay": "Vous payez", "We pay": "Nous payons", "They pay": "Ils payent", "I think": "Je pense", "You think": "Tu penses", "He thinks": "Il panse", "We think": "Nous pensons", "You think": "Vous pensez", "They think": "Ils pensent", "I allow": "Je permets", "You allow": "Tu permets", "He allow": "Il permet", "We allow": "Nous permettons", "You allow": "Vous permettez", "They allow": "Ils permettent", "I carry": "Je porte", "You carry": "Tu portes", "He carry": "Il porte", "We carry": "Nous portons", "You carry": "Vous portez", "They carry": "Ils portent", "I put down": "Je pose", "You put down": "Tu poses", "He puts down": "Il pose", "We put down": "Nous posons", "You put down": "Vous posez", "They put down": "Ils posent", "I push": "Je pousse", "You push": "Tu pusses", "He pushes": "Il pousse", "We push": "Nous poussons", "You push": "Vous poussez", "They push": "Ils poussent","I can": "Je peux", "You can": "Tu peux", "She can": "Elle peut", "We can": "Nous pouvons", "You can": "Vous pouvez", "They can": "Ils pouvent", "I take": "Je prends", "You take": "Tu prends", "He takes": "Il prend", "We take": "Nous prenons", "You take": "Vous prenez", "They take": "Ils prennent", "I present": "Je présente", "You present": "Tu présentes", "He present": "Il présente", "We present": "Nous présentons", "You present": "Vous présentez", "They present": "Ils présentent", "I quite": "J'quitte", "You quit": "Tu quittes", "He quits": "Il quitte", "We quit": "Nous quittons", "You quit": "Vous quittez", "They quit": "Ils quittent", "I receive": "Je reçois", "You receive": "Tu reçois", "She receives": "Elle reçoit", "We receive": "Nous recevons", "You receive": "Vous recevez", "They receive": "Ils reçoivent", "I recognise": "Je reconnais", "You recognise": "Tu reconnais", "He recognise": "Il reconnaît", "We recognise": "Nous reconnaissons", "You recognise": "Vous reconnaissez", "They recognise": "Ils reconnaissent", "I refuse": "Je refuse", "You refuse": "Tu refuses", "He refuse": "Il refuse", "We refuse": "Nous refusons", "You refuse": "Vous refusez", "They refuse": "Ils refusent", "I watch": "Je regarde", "You watch": "Tu regardes", "She watch": "Elle regarde", "We watch": "Nous regardons", "You watch": "Vous regardez", "They watch": "Ils regardent", "I give up": "Je rendre", "You give up": "Tu rendres", "He gives up": "Il rendre", "We give up": "Nous rendrons", "You give up": "Vous rendrez", "They give up": "Ils rendrent", "I succeed": "Je réussis", "You succeed": "Tu réuissis", "He succeeds": "Il réuissit", "We succeed": "Nous réuississons", "You succeed": "Vous réuississez", "They succeed": "Ils réussissent", "I return": "Je retourne", "You return": "Tu retournes", "He returns": "Il retourne", "We return": "Nous retournons", "You return": "Vous retournez", "They return": "Ils returnent", "I come back": "Je reviens", "You come back": "Tu reviens", "He comes back": "Il revient", "We come back": "Nous revenons", "You come back": "Vous revenez", "They come back": "Ils revienent", "I jump": "Je saute", "You jump": "Tu sautes", "She jumps": "Elle saute", "We jump": "Nous sautons", "You jump": "Vous sautez", "They jump": "Ils sautent", "I know": "Je sais", "You know": "Tu sais", "He knows": "Il sait", "We know": "Nous savons", "You know": "Vous savez", "They know": "Ils savent", "I exit": "Je sors", "You exit": "Tu sors", "He exit": "Il sort", "We exit": "Nous sortons", "You exit": "Vous sortez", "They exit": "Ils sortent", "I seem": "Je semble", "You seem": "Tu sembles", "He seems": "Il semble", "We seem": "Nous semblons", "You seem": "Vous semblez", "They seem": "Ils semblent", "I follow": "Je suis", "You (tu) follow": "Tu suis", "He follows": "Il suit", "We follow": "Nous suivons", "You follow": "Vous suivez", "They follow": "Ils suivent", "I hold": "Je tiens", "You (tu) hold": "Tu tiens", "She holds": "Elle tient", "We hold": "Nous tenons", "You hold": "Vous tenez", "They hold": "Ils tiennent", "I pull": "Je tire", "You (tu) pull": "Tu tires", "He pull": "Il tire", "We pull": "Nous tirons", "You pull": "Vous tirez", "They pull": "Ils tirent", "I touch": "Je touche", "You (tu) touch": "Tu tuches", "He touches": "Il touche", "We touch": "Nous touchons", "You touch": "Vous touchez", "They touch": "Ils touchent", "I work": "Je travaille", "You (tu) work": "Tu travailles", "She works": "Elle travaille", "We work": "Nous travaillons", "You work": "Vous travaillez", "They work": "Ils travaillent", "I find": "Je trouve", "You (tu) find": "Tu trouves", "She finds": "Elle trouve", "We find": "Nous trouvons", "You find": "Vous touvez", "They find": "Ils trouvent", "I sell": "Je vends", "You (tu) sell": "Tu vends", "He sells": "Il vend", "We sell": "Nous vendons", "You sell": "Vous vendez", "They sell": "Ils vendent", "I come": "Je viens", "You (tu) come": "Tu viens", "He comes": "Il vient", "We come": "Nous venons", "You come": "Vous venez", "They come": "Ils viennent", "I live": "Je vis", "You (tu) live": "Tu vis", "He lives": "Il vit", "We live": "Nous vivons", "You live": "Vous vivez", "They live": "Ils vivent", "I see": "Je vois", "You (tu) see": "Tu vois", "She sees": "Elle voit", "We see": "Nous voyons", "You see": "Vous voyez", "They see": "Ils voient", "I want": "Je veux", "You (tu) want": "Tu veux", "He wants": "Il veut", "We want": "Nous voulons", "You want": "Vous voulez", "They want": "Ils voulent", "I cry": "Je pleure", "You (tu) cry": "Tu pleures", "He cries": "Il pleure", "We cry": "Nous pleurons", "You cry": "Vous pleurez", "They crey": "Ils pleurent", "I build": "Je bâtis", "You (tu) build": "Tu bâtis", "He builds": "Il bâtit", "One builds": "On bâtit", "We build": "Nous bâtissons", "You build": "Vous bâtissez", "They build": "Ils bâtissent"}
last = -1
fr = en_fr.values()
en = en_fr.keys()
ans = []
counter = 0
try:
    while True:
        i = random.randint(0, len(fr) -1) # last index = size -1
        if i == last:
            continue
        else:
            counter = counter +1
            last = i
            play(fr[i])
            ans.append(i)
            time.sleep(1)
            # print answer every 5 times, so that we can check our progress
            if counter % 5 == 0 and counter != 0:
                for i in range(counter-5, counter):
                    print("{} -> {}".format(fr[ans[i]], en[ans[i]]))
                print('')
                time.sleep(5) # wait 5 sec to see answers

    # for item in fr:
    #     sound = audio(item.decode('utf-8'), item)
    #     print(item)
        
except KeyboardInterrupt:
    # Assumtion: Last number has already been fetch by the time we break the loop, so we ignore the unattempted last number 
    print(" Answers:")
    for i in range(len(ans) -1): # range(a, b) => [a, b)
        print("{} -> {}".format(fr[ans[i]], en[ans[i]]))
# except gTTSError:
#     print("Can't connect to Google TTS service.")
except PlaysoundException:
    pass
except Exception as e:
    print("Unexpected error: " + e.__str__())
